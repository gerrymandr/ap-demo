<!DOCTYPE html>
<html>
<meta charset="utf-8">
<style>
  body {
    font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
    min-height: 100vh;
    /* tell body to fill viewport */
    display: flex;
    flex-direction: column;
  }

  main {
    display: flex;
    flex-direction: row;
  }

  #controls {
    flex-direction: column;
    align-items: center;
  }

  h2 {
    font-size: x-large;
    text-align: center;
  }

  path {
    stroke: black;
    fill: white;
  }

  path.district0 {
    fill: green;
    opacity: 0.80;
  }

  path.district1 {
    fill: orange;
    opacity: 0.80;
  }

  path.district2 {
    opacity: 0.80;
    fill: rgb(200, 60, 200);
  }

  path.unassigned {
    opacity: 0.80;
  }
</style>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
  <script src="//d3js.org/d3-tile.v0.0.min.js"></script>
  <script src="//d3js.org/topojson.v1.min.js"></script>
  <script src="index.js"></script>

  <h2>Redistrict Chester County, PA</h2>

  This page allows you to assign the voting areas of Chester county to one of three districts (green, orange and purple). Then
  see whether the Democrats or Republicans will win each district.
  <p>
    In the last presidental election, Chester County voted 52% for Clinton and 43% for Trump. In a proportional representation
    system you might expect Democrats would win two out of the three districts and that all three districts would be close
    races.
  </p>
  <ul>
    <li>Can you come up with a redistricting plan that gives the Republicans zero districts?</li>

    <li>Can you come up with a redistricting plan that gives the Democrats only one district?</li>

    <li>Lopsided districts tend to suppress voter turn-out because voters feel their votes do not matter. How lopsided can you
      make the three districts?</li>
  </ul>
  <p>
    Click on the circles to select which district you want to build. You can also click in a area that has been assigned and
    drag your mouse to assign nearby areas.
  </p>

  <main>
    <div id="controls" style="width:200px">
      <svg id="paletteSvg" width="200px" height="60px" style="float:left; clear:left">
        <g id="palette"></g>
      </svg>
      <br>
      <svg id="scoreSvg" width="200px" height="180px" style="float:left; clear:left">
        <g id="score"></g>
        <text x=10, y=160, style="font-family:monospace">Percent Democrat</text>
      </svg>
      <div id="overflowWarning"  style="float:left; clear:left;visibility:hidden">
          Sorry, your redistricting plan has been rejected by the courts because some of the 
          districts are too large.
      </div>
    </div>
    <svg id="mapSvg" width="600px" height="600px">
      <g id="images"></g>
      <g id="lightbox">
        <rect x=0 y=0 width="600px" height="600px" style="fill:white;opacity:.65">
        </rect>
      </g>
      <g id="areas"></g>
      <g id="border"></g>
    </svg>
    
  </main>
</body>

</html>