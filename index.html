<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>2017 General Election</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>

</head>

<style>
.map path {
  stroke: #fff;
  stroke-width: 0.1;
  fill: black;
}

</style>

<body>
  <div id="election-map">
    <svg width="500px" height="500px" style="background: #00ff00">
    </svg>
 </div>

  <script>

function fnameToLayerName(fname) {
  return "layer_" + fname.replace(/ |\//g, "").toLowerCase()
}

function loadLayerWithProjection(fname, projection) {
	d3.json(fname, function(err, geojson) {

		 var layer = d3.select("svg").append("g");

		 var layerName = fnameToLayerName(fname);

		 layer.attr("id", layerName);
		 layer.attr("class", "map");

		 var pathGenerator = d3.geoPath().projection(projection);

		 var geoGenerator = layer 
		    .selectAll('path')
		    .data(geojson.features)
		    .enter()
		    .append('path')
		    .attr('d', pathGenerator); 
	});
}

//loadLayerWithProjection("test2.geojson", d3.geoOrthographic());
loadLayerWithProjection("data/Penn County/Chester.geojson", d3.geoAlbersUsa().center([0,0]));
</script>
</body>
</html>
